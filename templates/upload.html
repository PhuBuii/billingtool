<!-- 
- This is upload page whichs you can upload your excel file and view it in homepage. 
- It is inherited from base.html.
- This page you can drag & drop your excel file into it or you can attach it from your computer by click in the drag-area. 
- You can only add 1 excel only. if you drag lots of file in this. It will take the first one.

* author: Bui Quang Phu
* email: fixed-term.phu.buiquang@vn.bosch.com
* modified date: 04/03/2024
-->

{% extends "base.html" %}
<!--Setup title-->
{%block title%}Billing Tracking System{%endblock%}
<!--Add CSS files-->
{%block css%}
<link
  rel="stylesheet"
  href="{{url_for('static', filename='css/upload.css')}}"
/>
<link
  rel="stylesheet"
  href="{{url_for('static', filename='css/loading.css')}}"
/>
{%endblock%}

<!--Setup header title in tool-->
{%block header%}Upload Excel File{%endblock%}

<!--Setup navbar-->
{%block navbar%}
<button class="nav-button" title="Project view">
  <a href="{{url_for('main.upload')}}" title="Project view">
    <i class="fa-regular fa-folder-open"></i
  ></a></button
><button class="nav-button" title="Resource view">
  <a href="{{url_for('main.upload')}}" title="Resource view">
    <i class="fa-solid fa-users"></i
  ></a></button
><button class="nav-button" title="Report view">
  <a href="{{url_for('main.upload')}}" title="Report view">
    <i class="fa-solid fa-file-lines"></i
  ></a></button
>{%endblock%}

<!--Setup main view-->
{%block main%}

<form
  action="{{url_for('main.uploader')}}"
  class="upload-box"
  method="POST"
  enctype="multipart/form-data"
>
  <!--View of excel file after upload-->
  <div class="excel-info hide" id="excel-info">
    <div class="file-area" id="file-area">
      <div class="excel-file">
        <i class="fa-regular fa-file-excel"></i>
        <div id="uploadedFiles"></div>
      </div>
      <i class="fa-solid fa-xmark" id="close-file"></i>
    </div>
    <div class="date-form">
      <label>Start date:</label>
      <input
        type="text"
        class="date-input"
        name="datepicker"
        id="start-date"
        placeholder="mm/yyyy"
      />
      <i class="fa-solid fa-calendar-days"></i>
    </div>
  </div>
  <div class="loader hide" id="loading">
    <svg
      width="144px"
      height="128px"
      viewBox="0 0 144 128"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <g>
        <rect fill="#00993F" x="0" y="0" width="144" height="128" rx="4"></rect>
        <rect
          fill="#FFFFFF"
          x="8"
          y="20"
          width="128"
          height="100"
          rx="4"
        ></rect>
        <circle fill="#2CC200" cx="12" cy="12" r="4"></circle>
        <circle fill="#2CC200" cx="24" cy="12" r="4"></circle>
        <circle fill="#2CC200" cx="36" cy="12" r="4"></circle>
      </g>
      <rect
        class="horz"
        fill="#00993F"
        x="7"
        y="41"
        width="130"
        height="6"
      ></rect>
      <rect
        class="horz"
        fill="#00993F"
        x="7"
        y="67"
        width="130"
        height="6"
      ></rect>
      <rect
        class="horz"
        fill="#00993F"
        x="7"
        y="93"
        width="130"
        height="6"
      ></rect>
      <rect
        class="vert1"
        fill="#00993F"
        x="47"
        y="19"
        width="6"
        height="102"
      ></rect>
      <rect
        class="vert2"
        fill="#00993F"
        x="91"
        y="19"
        width="6"
        height="102"
      ></rect>
    </svg>
    <b id="loading-text">LOADING...</b>
  </div>
  <!--Drag area-->
  <div class="drag-area" id="drag-area">
    <div class="drop-message" id="dropMessage">
      <span>Attach</span> or drag your Excel file here !!
    </div>
    <input
      type="file"
      name="file"
      id="fileInput"
      class="file-input"
      accept=".xlsx"
    />
  </div>
  <!--Import & Cancel button-->
  <div class="btn-control">
    <!-- <input type = "submit"/> -->
    <button id="import-btn" name="upload_button" value="import">Import</button>
    <button id="cancel-btn" name="upload_button" value="cancel">Cancel</button>
  </div>
</form>
{%endblock%}
<!--Add Javascript file-->
{%block javascript%}
<!--JAVASCRIPT-->
<!--BASE JAVASCIPT-->
<script src="{{url_for('static',filename = 'js/upload.js')}}"></script>
<!--LOADING JAVASCRIPT-->
<script src="{{url_for('static',filename = 'js/loading.js')}}"></script>
{%endblock%}
